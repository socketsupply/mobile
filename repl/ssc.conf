// vim: set syntax=c:

config = {
  .name = "ssc-io",
  .executable = "ssc-io",
  .title = "Socket SDK - io.js",
  .version = "0.0.1",
  .bundle_identifier = "co.sockersupply.io",
  .copyright = "(C) Socket Supply, Co 2022",
  .description = "A JavaScript interface to the Socket SDK IPC protocol",
  .env = "HOME, USER, TMPDIR, PWD, DEBUG",
  .flags = "-O3",
  .output = "build",
  .build = "copy () { cp index.html package.json \"$1\" && ../node_modules/.bin/esbuild ipc.js --sourcemap=inline --platform=node --bundle --keep-names --tree-shaking=true --outfile=\"$1/ipc.js\" && ../node_modules/.bin/esbuild context.js --bundle --keep-names --platform=browser --outfile=\"$1/context.js\"; }; copy",
  .debug = {
    .flags = "-g"
  },
  .linux = {
    .cmd = "node ipc.js"
  },
  .mac = {
    .cmd = "node ipc.js"
  }
};
